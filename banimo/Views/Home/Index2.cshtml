@using BotDetect.Web.Mvc;
@using banimo.Classes;

@model banimo.ViewModePost.getMaindataViewModel

@{
    /**/


    ViewBag.Title = "حسون نامی مطمئن در صنعت پوشاک";
    Layout = "~/Views/Shared/_Layout2.cshtml";

}
<link href="~/Content/slider/example.css" rel="stylesheet" />
<link href="~/Content/slider/jquery.mkslider.css" rel="stylesheet" />
<link href="http://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css">



@section scripts{


    <script src="~/Scripts/slider/jquery.mkslider.js"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            $('#slider').mkslider({
                externalNavigator: '#additional-menu',
                auto: false,
                autoIcon: false,
                navigator: false,




            });
        });

    </script>






    <script>
        $('body').on('swipeup', function () { alert("swipe up triggered.."); });
        // $('.C-slide').on('swipedown', function () { alert("swipedown.."); });
    </script>

    <script>
        $(".itemdot").click(function () {
            $(this).parent().find('.itemdot').removeClass("active");
            $(this).addClass("active");
            $(this).parent().parent().find(".C-slide").css("z-index", "1")
            
            var id = $(this).attr('numberToGo');
            $("." + id).css("z-index", "100");
            
            $("." + id).animate({ "top": "0" }, 300, function () {
                $("." + id).removeClass("hideslide")
                $(this).parent().parent().find(".C-slide").each(function () {
                    if (!$(this).hasClass(id)) {
                        $(this).addClass("hideslide");
                        $(this).css("top", "110vh");

                    }
                })
            });
            //$("." + id).removeClass('hideslide')

        })
    </script>
   
    <script>
        document.addEventListener('touchstart', handleTouchStart, false);
        document.addEventListener('touchmove', handleTouchMove, false);

        var xDown = null;
        var yDown = null;

        function getTouches(evt) {
            return evt.touches ||             // browser API
                evt.originalEvent.touches; // jQuery
        }

        function handleTouchStart(evt) {
            const firstTouch = getTouches(evt)[0];
            xDown = firstTouch.clientX;
            yDown = firstTouch.clientY;
        };

        function handleTouchMove(evt) {
            if (!xDown || !yDown) {
                return;
            }

            var xUp = evt.touches[0].clientX;
            var yUp = evt.touches[0].clientY;

            var xDiff = xDown - xUp;
            var yDiff = yDown - yUp;

            if (Math.abs(xDiff) > Math.abs(yDiff)) {/*most significant*/
                if (xDiff > 0) {
                   
                    $(".mkslider-arrow-next").click();
                    /* right swipe */
                } else {
                    $(".mkslider-arrow-prev").click();
                    
                   
                    /* left swipe */
                }
            } else {
                if (yDiff > 0) {
                   
                    $(".C-slide").each(function () {

                        if (!$(this).hasClass('hideslide')) {
                            var substr = $(this).attr('class').split(' ');
                            for (i = 0; i < substr.length; ++i) {
                                if (substr[i] != ".C-slide") {
                                    $(".itemdot").each(function () {
                                        console.log('substr')
                                        if ($(this).attr('numberToGo') == substr[i]) {

                                            $(this).next().click();
                                        }
                                    })
                                }

                                // do something with `substr[i]`
                            }

                        }
                    })
                    /* down swipe */
                } else {
                 
                    $(".C-slide").each(function () {
                        //alert($(this).attr('class'));
                        if (!$(this).hasClass('hideslide')) {
                            var substr = $(this).attr('class').split(' ');
                            for (i = 0; i < substr.length; ++i) {
                                if (substr[i] != ".C-slide") {
                                    $(".itemdot").each(function () {
                                        console.log('substr')
                                        if ($(this).attr('numberToGo') == substr[i]) {
                                          
                                            $(this).prev().click();
                                        }
                                    })
                                }

                                // do something with `substr[i]`
                            }

                        }
                    })
                    /* up swipe */
                }
            }
            /* reset values */
            xDown = null;
            yDown = null;
        };
    </script>
    <link href="~/Content/heson.css" rel="stylesheet" />
}

<div id="barmenu" class="menuParent" style="z-index:999999999999">
    <div id="menuDiv" style="">
        <div style="height:200px;width:100%;border-bottom:1px solid;display: flex;align-items: center;">
            <img class="" src="~/images/heson.png" style="width:100%; object-fit:cover" />
        </div>

        <div style="display:flex; padding:25px">
            @if (Model.cats != null)
            {
                foreach (var item in Model.cats)
                {
                    string idtg = "p" + item.ID;
                    <div idtogo="@idtg" class="menuItem" style="margin:10px"><span>@item.title</span> </div>

                }
            }
        </div>
        <div class="tagPr">
            @if (Model.cats != null)
            {
                foreach (var item in Model.cats)
                {
                    int index = Model.cats.IndexOf(item);

                    string idToShow = "p" + item.ID;
                    string classname = "";
                    if (index == 0)
                    {
                        classname = "showParent";
                    }
                    <div class="tagHolder @classname" id="@idToShow">
                        @if (item.cattags != null)
                        {
                            foreach (var tag in item.cattags)
                            {
                                <span class="tagItem"><a href="@Url.Action("ProductList", "Home", new { catmode = "1"+item.ID, tag = tag.title})">@tag.title</a> </span>
                            }
                        }
                    </div>
                }
            }
        </div>

    </div>

</div>


<div id="slider">
    <div class="slide s1">
        <div style="position:relative">
            <div style="position:relative">
                <div class="C-slide item1">
                    <video a1="~/video/m1-video.mp4" a2="~/video/w1-vieo.mp4" a3="~/video/k1-video.mp4" class="aimItem" style="width:100%;" playsinline="playsinline" autoplay="autoplay" muted="muted" loop="loop">
                        <source src="~/video/m1-video.mp4" type="video/mp4">
                    </video>
                </div>
                <div class="C-slide hideslide item2">
                    <div class="a1 bannerHoder">
                        <img style="height:100vh; object-fit:cover" class="aimItem" a1="~/images/m1-min.jpg" a2="~/images/w1-min.jpg" a3="~/images/k1-min.jpg" src="~/images/m1-min.jpg" />
                    </div>
                </div>
                <nav id="" style="position:absolute; top:80vh; right:40px; display:flex;flex-direction:column;z-index:999999">
                    <span numberToGo="item1" class="itemdot active"></span>
                    <span numberToGo="item2" class="itemdot"></span>
                    @*<span  numberToGo="item3" class="itemdot"></span>
                        <span  numberToGo="item4" class="itemdot"></span>
                        <span  numberToGo="item5" class="itemdot"></span>*@
                </nav>
            </div>


        </div>

    </div>
    <div class="slide s2">
        <div style="position:relative">
            <div style="position:relative">
                <div class="C-slide wo1">
                    <video class="aimItem" style="width:100%;" playsinline="playsinline" autoplay="autoplay" muted="muted" loop="loop">
                        <source src="~/video/w1-vieo.mp4" type="video/mp4">
                    </video>
                </div>
                <div class="C-slide hideslide wo2">
                    <div class="a1 bannerHoder">
                        <img style="height:100vh; object-fit:cover" class="aimItem" src="~/images/w1-min.jpg" />
                    </div>
                </div>
                <nav id="" style="position:absolute; top:80vh; right:40px; display:flex;flex-direction:column;z-index:999999">
                    <span numberToGo="wo1" class="itemdot active"></span>
                    <span numberToGo="wo2" class="itemdot"></span>
                    @*<span  numberToGo="item3" class="itemdot"></span>
                        <span  numberToGo="item4" class="itemdot"></span>
                        <span  numberToGo="item5" class="itemdot"></span>*@
                </nav>
            </div>


        </div>
    </div>
    <div class="slide s3">
        <div style="position:relative">
            <div style="position:relative">
                <div class="C-slide ki1">
                    <video class="aimItem" style="width:100%;" playsinline="playsinline" autoplay="autoplay" muted="muted" loop="loop">
                        <source src="~/video/k1-video.mp4" type="video/mp4">
                    </video>
                </div>
                <div class="C-slide hideslide ki2">
                    <div class="a1 bannerHoder">
                        <img style="height:100vh; object-fit:cover" class="aimItem" src="~/images/k1-min.jpg" />
                    </div>
                </div>
                <nav id="" style="position:absolute; top:80vh; right:40px; display:flex;flex-direction:column;z-index:999999">
                    <span numberToGo="ki1" class="itemdot active"></span>
                    <span numberToGo="ki2" class="itemdot"></span>
                    @*<span  numberToGo="item3" class="itemdot"></span>
                        <span  numberToGo="item4" class="itemdot"></span>
                        <span  numberToGo="item5" class="itemdot"></span>*@
                </nav>
            </div>


        </div>
    </div>
    @*<div class="slide s4">4</div>
        <div class="slide s5">5</div>*@
</div>
<img class="logo" src="~/images/heson.png" style="" />
<nav id="additional-menu">


    @*@if (Model.cats != null)
        {
            foreach (var item in Model.cats)
            {
                string srtcat = "1" + item.ID;

                <div>
                    <a style="color:black" href="@Url.Action("ProductList", "Home", new { catmode = srtcat, value =  item.title})">@item.title</a>
                </div>

            }
        }*@

    @if (Model.cats != null)
    {
        foreach (var item in Model.cats)
        {
            string idtg = "p" + item.ID;
            <div><span idtogo="@idtg" class="menuZero">@item.title</span> </div>
        }
    }

    @*<div><span>مردانه</span> </div>
        <div><span>زنانه</span></div>
        <div><span>بچه گانه</span></div>*@

</nav>




<script>
    $(".menuItem").click(function () {
        var idtogo = $(this).attr('idtogo');
        $(".tagHolder").removeClass("showParent");
        $("#" + idtogo).addClass("showParent");
        $(".menuItem").removeClass("itembold");
        $(this).addClass("itembold");
    })
    $(".menuZero").click(function () {
        $("#barmenu").fadeIn();
        $("#barsformenu").removeClass("fa-bars").addClass("fa-times");
        var idtogo = $(this).attr('idtogo');
        $(".tagHolder").removeClass("showParent");
        $("#" + idtogo).addClass("showParent");
        $(".menuItem").removeClass("itembold");
        $(".menuItem").each(function () {
            if ($(this).attr('idtogo') == idtogo) {
                $(this).addClass("itembold");
            }
        })



    })
</script>









